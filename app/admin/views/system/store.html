<div class="container-fluid">
  <div class="row">
    <form class="form-horizontal">
      <div class="form-group">
        <div class="col-sm-12">
          <a type="button" class="btn btn-sm btn-default detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="Cancel" href="#/stores" ui-sref="admin.system.stores">
            <i class="fa fa-reply"></i>
          </a>
          <button ng-if="storeCtrl.sid !== null" type="button" class="btn btn-sm btn-default detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="Last" ng-click="storeCtrl.last()">
            <i class="fa fa-fast-forward"></i>
          </button>
          <button ng-if="storeCtrl.sid !== null" type="button" class="btn btn-sm btn-default detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="Next" ng-click="storeCtrl.next()">
            <i class="fa fa-step-forward"></i>
          </button>
          <button ng-if="storeCtrl.sid !== null" type="button" class="btn btn-sm btn-default detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="Back" ng-click="storeCtrl.back()">
            <i class="fa fa-step-backward"></i>
          </button>
          <button ng-if="storeCtrl.sid !== null" type="button" class="btn btn-sm btn-default detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="First" ng-click="storeCtrl.first()">
            <i class="fa fa-fast-backward"></i>
          </button>
          <button ng-if="storeCtrl.sid === null" type="button" class="btn btn-sm btn-primary detail-btn pull-right"
            tooltip-placement="top" uib-tooltip="Save" href="#/stores" ui-sref="admin.system.stores" ng-click="storeCtrl.addStore()">
            <i class="fa fa-floppy-o"></i>
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="panel panel-default">
    <div ng-if="storeCtrl.sid === null" class="panel-heading">
      <h3 class="panel-title"><span class="menu-icon fa fa-shopping-bag"></span> Store Detail - New Store</h3>
    </div>
    <div ng-if="storeCtrl.sid !== null" class="panel-heading">
      <h3 class="panel-title"><span class="menu-icon fa fa-shopping-bag"></span> Store Detail - {{storeCtrl.store.store_name}}</h3>
    </div>
    <div class="panel-body">
      <div class="row">
		    <uib-tabset>
					<uib-tab>
            <uib-tab-heading>
              <i class="menu-icon fa fa-shopping-bag"></i> General
            </uib-tab-heading><br>
            <form name:="storeProfileForm" class="form-horizontal" ng-submit="storeCtrl.addStore()">
              <fieldset>
                <div ng-if="storeCtrl.sid !== null" class="form-group">
                  <label class="col-sm-2 control-label" align="right">Store ID</label>
                  <div class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.sid" class="form-control" readonly>
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Store Name</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name:="name" ng-model="storeCtrl.store.store_name" placeholder="Store Name" class="form-control" required>
                    <div ng-messages="storeProfileForm.storeName.$error" ng-if="storeProfileForm.firstName.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_name" ng-change="storeCtrl.store.$save()"
                      placeholder="First Name" class="form-control" required>
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Store URL</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name:="storeUrl" ng-model="storeCtrl.store.store_url" placeholder="Store URL" class="form-control" required>
                    <div ng-messages="storeProfileForm.storeUrl.$error" ng-if="storeProfileForm.storeUrl.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_url" ng-change="storeCtrl.store.$save()"
                      placeholder="Last Name" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">E-Mail</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="email" name="email" ng-model="storeCtrl.store.store_email" placeholder="E-mail Address" class="form-control" required email>
                    <div ng-messages="storeProfileForm.email.$error" ng-if="storeProfileForm.email.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="email" ng-model="storeCtrl.store.store_email" ng-change="storeCtrl.store.$save()"
                      placeholder="E-mail Address" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Phone Number</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="phoneNumber" ng-model="storeCtrl.store.store_phone" placeholder="Phone Number" class="form-control" required>
                    <div ng-messages="storeProfileForm.phoneNumber.$error" ng-if="storeProfileForm.phoneNumber.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_phone" ng-change="storeCtrl.store.$save()"
                      placeholder="Phone Number" class="form-control">
                  </div>
                </div>
              </fieldset>
              <fieldset>
                <legend>Address</legend>
                <div class="form-group">
                  <label class="col-sm-2 control-label" align="right">Search Address</label>
                  <div class="col-sm-8">
                    <ui-select ng-change="storeCtrl.parseAddress($select.selected.formatted_address)" ng-model="storeCtrl.address.selected" theme="bootstrap" ng-disabled="disabled" reset-search-input="false">
                      <ui-select-match placeholder="Enter an address...">{{$select.selected.formatted_address}}</ui-select-match>
                      <ui-select-choices repeat="address in (addresses) track by $index" refresh="storeCtrl.refreshAddresses($select.search)" refresh-delay="0">
                        <div ng-bind-html="address.formatted_address | highlight: $select.search"></div>
                      </ui-select-choices>
                    </ui-select>
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Street</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="street" ng-model="storeCtrl.store.store_address_street" placeholder="Street" class="form-control" required>
                    <div ng-messages="storeProfileForm.street.$error" ng-if="storeProfileForm.steet.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_address_street" ng-change="storeCtrl.store.$save()"
                      placeholder="Street" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">City</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="city" ng-model="storeCtrl.store.store_address_city" placeholder="City" class="form-control" required>
                    <div ng-messages="storeProfileForm.city.$error" ng-if="storeProfileForm.city.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_address_city" ng-change="storeCtrl.store.$save()"
                      placeholder="City" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Country</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="country" ng-model="storeCtrl.store.store_address_country" placeholder="Country" class="form-control" required>
                    <div ng-messages="storeProfileForm.country.$error" ng-if="storeProfileForm.country.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_address_country" ng-change="storeCtrl.store.$save()"
                      placeholder="Country" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Region</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="region" ng-model="storeCtrl.store.store_address_region" placeholder="Region" class="form-control" required>
                    <div ng-messages="storeProfileForm.region.$error" ng-if="storeProfileForm.region.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_address_region" ng-change="storeCtrl.store.$save()"
                      placeholder="Region" class="form-control">
                  </div>
                </div>
                <div class="form-group required">
                  <label class="col-sm-2 control-label" align="right">Postal Code / Zip</label>
                  <div ng-if="storeCtrl.sid === null" class="col-sm-8">
                    <input type="text" name="postalZip" ng-model="storeCtrl.store.store_address_postal_code" placeholder="Postal Code / Zip" class="form-control" required>
                    <div ng-messages="storeProfileForm.postalZip.$error" ng-if="storeProfileForm.postalZip.$touched">
                      <div ng-messages-include="catalog/common/registration.messages.html"></div>
                    </div>
                  </div>
                  <div ng-if="storeCtrl.sid !== null" class="col-sm-8">
                    <input type="text" ng-model="storeCtrl.store.store_address_postal_code" ng-change="storeCtrl.store.$save()"
                      placeholder="Postal Code / Zip" class="form-control">
                  </div>
                </div>
              </fieldset>
            </form>
          </uib-tab>

          <uib-tab>
            <uib-tab-heading>
              <i class="menu-icon fa fa-picture-o"></i> Image Library
            </uib-tab-heading><br>
            <uib-tabset>
              <uib-tab>
                <uib-tab-heading>
                  <i class="menu-icon fa fa-picture-o"></i> Library
                </uib-tab-heading><br>
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title"><span class="menu-icon fa fa-picture-o"></span> Library</h4>
                  </div>
                  <div class="panel-body">
                    <div class="row">
                      images go here
                    </div>
                  </div>
                </div>
              </uib-tab>
              <uib-tab>
                <uib-tab-heading>
                  <i class="menu-icon fa fa-cloud-upload"></i> Uploads
                </uib-tab-heading><br>
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title"><span class="menu-icon fa fa-cloud-upload"></span> Uploads</h4>
                  </div>
                  <div class="panel-body">
                    <div class="col-sm-2">
                      <div class="row">
                        <button type="file" ngf-select="uploadFiles($file, $invalidFiles)"
                                accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">
                          Select File</button><br><br>
                          File:
                          <div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}
                              <span class="progress" ng-show="f.progress >= 0">
                                  <div style="width:{{f.progress}}%"
                                        ng-bind="f.progress + '%'"></div>
                              </span>
                          </div>
                          {{errorMsg}}
                      </div>
                    </div>
                  </div>
                </div>
              </uib-tab>
              <uib-tab>
                <uib-tab-heading>
                  <i class="menu-icon fa fa-key"></i> Security
                </uib-tab-heading><br>
                <div class="row">
                  <form class="form-horizontal">
                    <div class="form-group">
                      <div class="col-sm-12">
                        <button type="button" class="btn btn-sm btn-primary detail-btn pull-right" tooltip-placement="top" uib-tooltip="Save" ng-click="libraryCtrl.saveDreamFactoryUser()">
                          <i class="fa fa-floppy-o"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title"><span class="menu-icon fa fa-key"></span> Security</h4>
                  </div>
                  <div class="panel-body">
                    <div class="row">
                      <form class="form-horizontal">
                        <div class="form-group">
                          <label class="control-label col-sm-3">Email</label>
                          <div class="col-sm-6">
                            <input type="email" ng-model="libraryCtrl.user.dreamfactory_email" placeholder="Enter DreamFactory Email" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-3">Password</label>
                          <div class="col-sm-6">
                            <input type="password" ng-model="libraryCtrl.user.dreamfactory_password" placeholder="Enter DreamFactory Password" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-3">Verify Password</label>
                          <div class="col-sm-6">
                            <input type="password" ng-model="libraryCtrl.user.confirm_password" placeholder="Verify DreamFactory Password" class="form-control">
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </uib-tab>
            </uib-tabset>
          </uib-tab>
          <uib-tab>
            <uib-tab-heading>
              <i class="menu-icon fa fa-tasks"></i> Default Settings
            </uib-tab-heading><br>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title"><span class="menu-icon fa fa-tasks"></span> Default Settings</h3>
              </div>
              <div class="panel-body">
                <form class="form-horizontal">
                  <fieldset>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Default Currency</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_currency" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option value= "usd">USD</option>
                          <option value= "can">CAN</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Default Length Units</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_length" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option ng-repeat="w in storeCtrl.LengthUnits" value="{{w.unit_title}}">{{w.unit_title}}</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Default Weight Units</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_weight" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option ng-repeat="w in storeCtrl.WeightUnits" value="{{w.unit_title}}">{{w.unit_title}}</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>Reward Point Settings</legend>
                    <div class="form-group required">
                      <label class="col-sm-3 control-label" align="right">Reward Points Awarded Per Dollar Spent</label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="storeCtrl.store.store_points_per_dollar" ng-change="storeCtrl.updateStore()"
                          placeholder="Points Per Dollar Spent" class="form-control">
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-3 control-label" align="right">Minimum Redeemable Value</label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="storeCtrl.store.store_points_minimum_value" ng-change="storeCtrl.updateStore()"
                          placeholder="Minimum Value" class="form-control">
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-3 control-label" align="right">Minimum Value Redeemable in Dollars</label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="storeCtrl.store.store_points_minimum_dollar_value" ng-change="storeCtrl.updateStore()"
                          placeholder="Redeemable Points Value in Dollars" class="form-control">
                      </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>Tax Settings</legend>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Default Tax Group</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_tax_group" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option ng-repeat="t in storeCtrl.TaxGroups" value="{{t.group_name}}">{{t.group_name}}</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>Checkout Defaults</legend>
                    <div class="form-group">
                      <label class="col-sm-2 control-label" align="right">Invoice Prefix</label>
                      <div class="col-sm-9">
                        <input type="text" ng-model="storeCtrl.store.store_default_invoice_prefix" ng-change="storeCtrl.updateStore()"
                          placeholder="Enter Invoice Prefix" class="form-control">
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Processing Order Status</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_processing_status" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option ng-repeat="o in storeCtrl.OrderStatuses" value="{{o.status_name}}">{{o.status_name}}</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Completed Order Status</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_completed_status" ng-change="storeCtrl.updateStore()" class="form-control">
                          <option ng-repeat="o in storeCtrl.OrderStatuses" value="{{o.status_name}}">{{o.status_name}}</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>Return Status Default</legend>
                    <div class="form-group required">
                      <label class="col-sm-2 control-label" align="right">Return Status</label>
                      <div class="col-sm-9">
                        <select ng-model="storeCtrl.store.store_default_return_status" ng-change="storeCtrl.updateStore" class="form-control">
                          <option ng-repeat="r in storeCtrl.ReturnStatuses" value="{{r.status_name}}">{{r.status_name}}</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>
                </form>
              </div>
            </div>
          </uib-tab>
          <uib-tab>
            <uib-tab-heading>
              <i class="menu-icon fa fa-flag-checkered"></i> Home Page Banner
            </uib-tab-heading><br>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title"><span class="menu-icon fa fa-list-ul"></span> {{bannerCtrl.bannerName}}</h3>
              </div>
              <div class="panel-body">
                <div class="col-xs-2">
                  <div class="row">
                    <span class="file-input btn btn-primary btn-block btn-file">
                      Select or Drag File Here
                      <input type="file" ng-file-select="storeCtrl.onFileSelect($files)">
                    </span>
                  </div><br>
                  <div ng-if="storeCtrl.bannerArray === 'yes'" class="panel panel-default">
                    <div class="panel-body">
                      <div ng-repeat="s in storeCtrl.bannerImages">
                        <div class="row">
                          <div>
                            <img ng-src="{{s.image}}" class="img-responsive">
                          </div>
                        </div>
                        <div class="row">
                          <button type="button" class="btn btn-xs btn-block btn-danger" ng-click="bannerCtrl.removeImage(s.$id)">
                            Click to Delete Image
                          </button>
                        </div><br>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-xs-10">
                  <div class="row">
                    <div class="panel panel-default">
                      <div class="panel-body">
                        <uib-carousel interval="storeCtrl.myInterval" no-wrap="storeCtrl.noWrapSlides">
                          <uib-slide ng-repeat="s in storeCtrl.bannerImages" active="slide.active">
                            <img ng-src="{{s.image}}" style="margin:auto; height: 305px; width: 800px">
                          </uib-slide>
                        </uib-carousel>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </uib-tab>
				</uib-tabset>
      </div>
    </div>
  </div>
</div>
